# MenuBar

An accessible menubar for both horizontal and vertical navigations. `MenuBar`
uses roving tabIndex for focus management.

By default, `MenuBar` used ul, li, a components as default but they can be
modified using `as` prop.

## Import

Chakra Components exports 8 components for rendering menubar:

- `MenuBar`: The wrapper component that provides context, state, and focus
  management.
- `MenuBarItem`: Items of the MenuBar which are the direct childrens of
  `MenuBar`
- `SubMenu`: The wrapper component that provides context, state, and focus
  management for `SubMenu` components.
- `SubMenuTitle`: The trigger for the `SubMenuList`. Must be a direct child of
  `SubMenu`.
- `SubMenuList`: The wrapper for the `SubMenu` items. Must be a direct child of
  `SubMenu`.
- `SubMenuItem`: The trigger that handles submenu selection. Must be a direct
  child of a `SubMenuList`.
- `SubMenuGroup`: A wrapper to group related submenu items.
- `SubMenuDivider`: A visual separator for submenu items and groups.

```js
import {
  MenuBar,
  MenuBarItem,
  SubMenu,
  SubMenuTitle,
  SubMenuList,
  SubMenuItem,
  SubMenuGroup,
  SubMenuDivider,
} from "@chakra-components/core";
```

## Basic Usage

```jsx
<MenuBar>
  <MenuBarItem>Recipes</MenuBarItem>
  <MenuBarItem>My Calendar</MenuBarItem>
  <MenuBarItem>Meal Plans</MenuBarItem>
  <MenuBarItem>Groceries</MenuBarItem>
  <MenuBarItem>Video</MenuBarItem>
  <MenuBarItem>Blog</MenuBarItem>
</MenuBar>
```

## Props in Action

### MenuBar Props

- By default, Menubar renders the `ul` HTML tag
- `araiLabel` - Defines an accessible name for the menubar.
- `spanMenuBar` - If `true`, `SubMenu` popover will span to the width of its
  immediate parent
- Default `trigger` - `hover`

**Letter navigation**

When focus is on the MenuBar or within the SubMenu and you type a letter key, a
search begins. Focus will move to the first item that starts with the letter you
typed.

> Move focus to the `MenuBar`, try and type any letter, say "M" to see the focus
> movement.

```jsx
<MenuBar ariaLabel="Dishes" spanMenuBar>
  <MenuBarItem>Recipes</MenuBarItem>
  <MenuBarItem>My Calendar</MenuBarItem>
  <SubMenu>
    <SubMenuTitle>Meal Plans</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Downloaded</SubMenuItem>
      <SubMenuItem>Create a Copyed</SubMenuItem>
      <SubMenuItem>Mark as Drafted</SubMenuItem>
      <SubMenuItem>Deleted</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <SubMenu>
    <SubMenuTitle>Groceries</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Download</SubMenuItem>
      <SubMenuItem>Create a Copy</SubMenuItem>
      <SubMenuItem>Mark as Draft</SubMenuItem>
      <SubMenuItem>Delete</SubMenuItem>
      <SubMenuItem>Attend a Workshop</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <SubMenu>
    <SubMenuTitle>Workouts</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Download</SubMenuItem>
      <SubMenuItem>Create a Copy</SubMenuItem>
      <SubMenuItem>Mark as Draft</SubMenuItem>
      <SubMenuItem>Delete</SubMenuItem>
      <SubMenuItem>Attend a Workshop</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <MenuBarItem>Video</MenuBarItem>
  <MenuBarItem>Blog</MenuBarItem>
</MenuBar>
```

### More MenuBar Props

- `araiLabel` - Defines an accessible name for the menubar.
- `spanParent` - If `true`, `SubMenu` popover will span to the width of the
  menubar container.
- Default `trigger` - `click`

```jsx
<MenuBar ariaLabel="Dishes" spanParent trigger="click" as={Flex}>
  <MenuBarItem>Recipes</MenuBarItem>
  <MenuBarItem>My Calendar</MenuBarItem>
  <SubMenu>
    <SubMenuTitle>Meal Plans</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Downloaded</SubMenuItem>
      <SubMenuItem>Create a Copyed</SubMenuItem>
      <SubMenuItem>Mark as Drafted</SubMenuItem>
      <SubMenuItem>Deleted</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <SubMenu>
    <SubMenuTitle>Groceries</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Download</SubMenuItem>
      <SubMenuItem>Create a Copy</SubMenuItem>
      <SubMenuItem>Mark as Draft</SubMenuItem>
      <SubMenuItem>Delete</SubMenuItem>
      <SubMenuItem>Attend a Workshop</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <SubMenu>
    <SubMenuTitle>Workouts</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Download</SubMenuItem>
      <SubMenuItem>Create a Copy</SubMenuItem>
      <SubMenuItem>Mark as Draft</SubMenuItem>
      <SubMenuItem>Delete</SubMenuItem>
      <SubMenuItem>Attend a Workshop</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <MenuBarItem>Video</MenuBarItem>
  <MenuBarItem>Blog</MenuBarItem>
</MenuBar>
```

### MenuBarItem

- MenuBarItem composed on top of `li` with `role: none`.
- All the items will be an `a` tag by default.

```jsx
<MenuBar>
  <MenuBarItem>Recipes</MenuBarItem>
  <MenuBarItem as={Button}>My Calendar</MenuBarItem>
  <MenuBarItem>Meal Plans</MenuBarItem>
  <MenuBarItem>Groceries</MenuBarItem>
  <MenuBarItem>Video</MenuBarItem>
  <MenuBarItem>Blog</MenuBarItem>
</MenuBar>
```

### SubMenu

- Access the internal state of the `SubMenu`, use a function as a `children`
  (commonly known as a `render prop`). You'll get access to the internal state
  `isOpen` and method `onClose`. Must have the prop `trigger="click"` on
  MenuBar.

```jsx
<MenuBar trigger="click">
  <MenuBarItem>Recipes</MenuBarItem>
  <SubMenu autoSelect={false} closeOnBlur={false} closeOnSelect={false}>
    <SubMenuTitle>Workouts</SubMenuTitle>
    <SubMenuList>
      <SubMenuItem>Download</SubMenuItem>
      <SubMenuItem>Create a Copy</SubMenuItem>
      <SubMenuItem>Mark as Draft</SubMenuItem>
      <SubMenuItem>Delete</SubMenuItem>
      <SubMenuItem>Attend a Workshop</SubMenuItem>
    </SubMenuList>
  </SubMenu>
  <SubMenu>
    {({ isOpen, onClose }) => (
      <React.Fragment>
        <SubMenuTitle as={Button} rightIcon="chevron-down">
          {isOpen ? "Close" : "Open"}
        </SubMenuTitle>
        <SubMenuList>
          <SubMenuItem>Download</SubMenuItem>
          <SubMenuItem onClick={() => alert("Clicked")}>
            Create a Copy
          </SubMenuItem>
        </SubMenuList>
      </React.Fragment>
    )}
  </SubMenu>
  <MenuBarItem>Meal Plans</MenuBarItem>
  <MenuBarItem>Groceries</MenuBarItem>
  <MenuBarItem>Video</MenuBarItem>
  <MenuBarItem>Blog</MenuBarItem>
</MenuBar>
```

## Props Table

### MenuBar Props

| Name        | Type                           | Default | Description                                                                  |
| ----------- | ------------------------------ | ------- | ---------------------------------------------------------------------------- |
| children    | `React.ReactNode`              |         | The childrens of the `MenuBar` must be `MenuBarItem`                         |
| ariaLabel   | `string`                       |         | Title for the `MenuBar` as aria label                                        |
| as          | `React.ReactNode`, `HTML tags` | `ul`    | HTML Tag or Component to be rendered opposing default tag                    |
| trigger     | `hover`, `click`               | `hover` | The interaction that triggers the popover.                                   |
| spanParent  | `boolean`                      | `false` | If `true`, `SubMenu` popover will span to the width of its immediate parent  |
| spanMenuBar | `boolean`                      | `false` | If `true`, `SubMenu` popover will span to the width of the menubar container |

### MenuBarItem

| Name     | Type                           | Default | Description                                               |
| -------- | ------------------------------ | ------- | --------------------------------------------------------- |
| children | `React.ReactNode`              |         | The children will be MenuBarItem                          |
| as       | `React.ReactNode`, `HTML tags` | `ul`    | HTML Tag or Component to be rendered opposing default tag |

### SubMenu

| Name          | Type              | Default | Description                                                       |
| ------------- | ----------------- | ------- | ----------------------------------------------------------------- |
| children      | `React.ReactNode` |         | The children of the menu must be `SubMenuTitle` and `SubMenuList` |
| isOpen        | `boolean`         |         | If `true`, the menu will be opened                                |
| autoSelect    | `boolean`         | `true`  | The menu will select the first enabled item when it opens         |
| closeOnBlur   | `boolean`         | `true`  | If `true`, the menu will close on outside click or blur           |
| closeOnSelect | `boolean`         | `true`  | If `true`, the menu will close on menu item select                |

## Accessibility

### Keyboard Interaction

**For `MenuBar`:**

| Key                | Action                                                                                                                                                                               |
| ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `ArrowRight`       | Moves focus to the next item in the menubar. If focus is on the last item, moves focus to the first item.                                                                            |
| `ArrowLeft`        | Moves focus to the previous item in the menubar. If focus is on the first item, moves focus to the last item.                                                                        |
| `Enter` or `Space` | Opens submenu and moves focus to first item in the submenu.                                                                                                                          |
| `ArrowDown`        | Opens submenu and moves focus to first item in the submenu.                                                                                                                          |
| `ArrowUp`          | Opens submenu and moves focus to last item in the submenu.                                                                                                                           |
| `Escape`           | When the submenu is open, closes the submenu and sets focus to that `SubMenuTitle`                                                                                                   |
| `Home`             | Moves focus to first item in the menubar.                                                                                                                                            |
| `End`              | Moves focus to last item in the menubar.                                                                                                                                             |
| `A-Z` or `a-z`     | Moves focus to next item in the menubar having a name that starts with the typed character. If none of the items have a name starting with the typed character, focus does not move. |
| `Tab`              | no effect - moves the focus away from `MenuBar`                                                                                                                                      |

**For `SubMenu`:**

| Key                | Action                                                                                                                                                                                                                                                                                             |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Enter` or `Space` | Activates menu item, causing the link to be activated.                                                                                                                                                                                                                                             |
| `Escape`           | Closes submenu. Moves focus to parent menubar item.                                                                                                                                                                                                                                                |
| `ArrowRight`       | If focus is on an item with a submenu, opens the submenu and places focus on the first item. If focus is on an item that does not have a submenu: Closes submenu, Moves focus to next item in the menubar, Opens submenu of newly focused menubar item, keeping focus on that parent menubar item. |
| `ArrowLeft`        | Closes submenu and moves focus to parent menu item. If parent menu item is in the menubar, also: moves focus to previous item in the menubar, Opens submenu of newly focused menubar item, keeping focus on that parent menubar item.                                                              |
| `ArrowDown`        | Moves focus to the next item in the submenu. If focus is on the last item, moves focus to the first item.                                                                                                                                                                                          |
| `ArrowUp`          | Moves focus to previous item in the submenu. If focus is on the first item, moves focus to the last item.                                                                                                                                                                                          |
| `Home`             | Moves focus to the first item in the submenu.                                                                                                                                                                                                                                                      |
| `End`              | Moves focus to the last item in the submenu.                                                                                                                                                                                                                                                       |
| `A-Z` or `a-z`     | Moves focus to the next item having a name that starts with the typed character. If none of the items have a name starting with the typed character, focus does not move.                                                                                                                          |
| `Tab`              | no effect - moves the focus away from `MenuBar`                                                                                                                                                                                                                                                    |

### ARIA roles

**For `MenuBar`:**

- It has `role` set to `menubar`
- It has an auto `id` as accessible id.
- It has an `aria-label` prop which needs to be provided.

**For `MenuBarItem`:**

- It has `role` set to `menuitem`.
- First item will have `tabIndex: 0` rest will have an index of `-1` to hide
  them from tab navigations.
